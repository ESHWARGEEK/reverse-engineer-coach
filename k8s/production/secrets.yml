apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: production
type: Opaque
stringData:
  # Database Configuration
  DATABASE_URL: "postgresql://username:password@postgres-service:5432/reverse_coach_prod"
  POSTGRES_USER: "username"
  POSTGRES_PASSWORD: "change-this-password"
  POSTGRES_DB: "reverse_coach_prod"
  
  # Redis Configuration
  REDIS_URL: "redis://redis-service:6379"
  
  # Security Configuration
  SECRET_KEY: "change-this-super-secret-key-in-production-min-32-chars"
  JWT_SECRET_KEY: "change-this-jwt-secret-key-in-production-min-32-chars"
  JWT_REFRESH_SECRET_KEY: "change-this-jwt-refresh-secret-key-in-production-min-32-chars"
  ENCRYPTION_KEY: "change-this-encryption-key-base64-encoded-32-bytes"
  MASTER_ENCRYPTION_KEY: "change-this-master-encryption-key-base64-encoded-32-bytes"
  
  # External API Keys (Optional - users provide their own)
  GITHUB_TOKEN: "ghp_your-github-token-here"
  OPENAI_API_KEY: "sk-your-openai-api-key-here"
  ANTHROPIC_API_KEY: "your-anthropic-api-key-here"
  
  # Monitoring and Logging
  SENTRY_DSN: "your-sentry-dsn-for-error-tracking"
---
apiVersion: v1
kind: Secret
metadata:
  name: ssl-certs
  namespace: production
type: kubernetes.io/tls
data:
  # Base64 encoded SSL certificate and key
  # Generate with: kubectl create secret tls ssl-certs --cert=server.crt --key=server.key -n production --dry-run=client -o yaml
  tls.crt: LS0tLS1CRUdJTi... # Base64 encoded certificate
  tls.key: LS0tLS1CRUdJTi... # Base64 encoded private key
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
  namespace: production
data:
  # Environment Configuration
  ENVIRONMENT: "production"
  DEBUG: "false"
  
  # API Configuration
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  CORS_ORIGINS: "https://your-domain.com,https://www.your-domain.com"
  
  # JWT Configuration
  JWT_ALGORITHM: "HS256"
  JWT_ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  JWT_REFRESH_TOKEN_EXPIRE_DAYS: "7"
  
  # Redis Configuration
  REDIS_SESSION_DB: "1"
  REDIS_CACHE_DB: "2"
  REDIS_MAX_CONNECTIONS: "20"
  REDIS_SOCKET_TIMEOUT: "5"
  REDIS_SOCKET_CONNECT_TIMEOUT: "5"
  
  # Rate Limiting Configuration
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_REQUESTS_PER_MINUTE: "60"
  RATE_LIMIT_BURST: "10"
  AUTH_RATE_LIMIT_REQUESTS_PER_MINUTE: "5"
  AUTH_RATE_LIMIT_BURST: "3"
  
  # Session Configuration
  SESSION_TIMEOUT_MINUTES: "60"
  SESSION_CLEANUP_INTERVAL_MINUTES: "30"
  MAX_SESSIONS_PER_USER: "5"
  
  # SSL/TLS Configuration
  SSL_ENABLED: "true"
  FORCE_HTTPS: "true"
  
  # Logging Configuration
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
  ENABLE_ACCESS_LOGS: "true"
  ENABLE_ERROR_TRACKING: "true"
  
  # Performance Configuration
  WORKER_PROCESSES: "4"
  WORKER_CONNECTIONS: "1000"
  KEEPALIVE_TIMEOUT: "65"
  CLIENT_MAX_BODY_SIZE: "10M"
  
  # Frontend Configuration
  REACT_APP_API_URL: "https://api.your-domain.com"